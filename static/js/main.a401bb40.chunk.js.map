{"version":3,"sources":["components/GalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ButtonLoadMore/Button.module.css","components/Loader/Loader.module.css","App.module.css","components/SearchBar/Searchbar.jsx","components/GalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ButtonLoadMore/Button.jsx","components/Loader/Loader.jsx","service/api.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","onFormSubmit","useState","changeValue","setChangeValue","clearForm","className","styles","Searchbar","SearchForm","onSubmit","e","preventDefault","trim","toast","warn","toLowerCase","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","ImageGalleryItem","webformatURL","largeImageURL","tags","onClickProps","onClick","ImageGalleryItemImage","src","alt","srcSet","modalRoot","document","getElementById","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","Button","this","props","Component","Loader","color","height","width","timeout","fetchApi","searchQuery","page","a","params","url","fetch","then","response","json","fetchA","ImageGallery","submitValue","images","setImages","setLargeImageURL","setTags","setPage","showModal","setShowModal","loading","setLoading","results","hits","length","success","error","catch","err","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","bigImageSetState","closeModal","map","id","CloseBtn","App","setSubmitValue","data","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,SAAW,iC,mBCA/ED,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,IAAM,mB,qJCIT,SAASC,EAAT,GAAsC,IAAjBC,EAAgB,EAAhBA,aACnC,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAiBMC,EAAY,WACjBD,EAAe,KAGhB,OACC,qCACC,wBAAQE,UAAWC,IAAOC,UAA1B,SACC,uBAAMF,UAAWC,IAAOE,WAAYC,SAtBlB,SAACC,GAErB,GADAA,EAAEC,iBACyB,KAAvBT,EAAYU,OAGf,OAFAC,IAAMC,KAAK,qCACXV,IAGDJ,EAAaE,EAAYa,cAAcH,QACvCR,KAcE,UACC,wBAAQY,KAAK,SAASX,UAAWC,IAAOW,iBAAxC,SACC,sBAAMZ,UAAWC,IAAOY,sBAAxB,sBAGD,uBACCb,UAAWC,IAAOa,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAtBgB,SAACb,GACrBP,EAAeO,EAAEc,cAAcC,QAsB3BA,MAAOvB,SAIV,cAAC,IAAD,O,6BC3BYwB,MAjBf,YAAgF,IAApDC,EAAmD,EAAnDA,aAAcC,EAAqC,EAArCA,cAAeC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aAK9D,OACC,oBAAIzB,UAAWC,IAAOoB,iBAAkBK,QALzC,SAAqBrB,GACpBoB,EAAaF,EAAeC,IAI5B,SACC,qBACCxB,UAAWC,IAAO0B,sBAClBC,IAAKN,EACLO,IAAKL,EACLM,OAAQP,O,iBCRNQ,EAAYC,SAASC,eAAe,cAE3B,SAASC,EAAT,GAAuC,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACxCC,qBAAU,WAGT,OAFAC,OAAOC,iBAAiB,UAAWC,GAE5B,WACNF,OAAOG,oBAAoB,UAAWD,OAIxC,IAAMA,EAAgB,SAACnC,GACP,WAAXA,EAAEqC,MACLP,KAUF,OAAOQ,uBACN,qBAAK3C,UAAWC,IAAO2C,QAASlB,QAPN,SAACrB,GACvBA,EAAEc,gBAAkBd,EAAEwC,QACzBV,KAKD,SACC,qBAAKnC,UAAWC,IAAOiC,MAAvB,SAA+BE,MAEhCL,G,oDC7BIe,E,4JACL,WACC,OACC,wBACCnC,KAAK,SACLX,UAAWC,IAAO6C,OAClBpB,QAASqB,KAAKC,MAAMtB,QAHrB,SAKC,sBAAM1B,UAAU,eAAhB,4B,GARiBiD,aAcNH,I,0CCZTI,E,4JACL,WACC,OACC,qBAAKlD,UAAWC,IAAOiD,OAAvB,SACC,cAAC,IAAD,CACCvC,KAAK,UACLwC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,Y,GATOL,aAgBNC,I,mDCrBAK,E,gFAAf,WAAwBC,EAAaC,GAArC,mBAAAC,EAAA,4DAEiB,qCAFjB,2BAIOC,EAJP,aAIsBH,EAJtB,iBAI0CC,EAJ1C,gBAEiB,qCAFjB,wDAKOG,EALP,2BAKuBD,EALvB,SAOsBE,MAAMD,GAAKE,MAAK,SAACC,GAErC,OAAOA,EAASC,UATlB,cAOOC,EAPP,yBAWQA,GAXR,4C,sBCUe,SAASC,EAAT,GAAwC,IAAhBC,EAAe,EAAfA,YACtC,EAA4BvE,mBAAS,IAArC,mBAAOwE,EAAP,KAAeC,EAAf,KACA,EAA0CzE,mBAAS,IAAnD,mBAAO2B,EAAP,KAAsB+C,EAAtB,KACA,EAAwB1E,mBAAS,IAAjC,mBAAO4B,EAAP,KAAa+C,EAAb,KACA,EAAwB3E,mBAAS,GAAjC,mBAAO6D,EAAP,KAAae,EAAb,KACA,EAAkC5E,oBAAS,GAA3C,mBAAO6E,EAAP,KAAkBC,EAAlB,KACA,EAA8B9E,oBAAS,GAAvC,mBAAO+E,EAAP,KAAgBC,EAAhB,KAEAvC,qBAAU,WACW,KAAhB8B,GAGgB,KAAhBA,IACHS,GAAW,GACXJ,EAAQ,GACRjB,EAASY,EAAa,GACpBL,MAAK,SAACe,GACNR,EAAU,YAAIQ,EAAQC,OAElBD,EAAQC,KAAKC,QAAU,GAAKtB,GAAQ,EACvCjD,IAAMwE,QAAQ,uBACoB,IAAxBH,EAAQC,KAAKC,QACvBvE,IAAMyE,MAAM,2BAGbC,OAAM,SAACC,GACP3E,IAAMyE,MAAM,gBACZG,QAAQC,IAAIF,MAEZG,SAAQ,kBAAMV,GAAW,SAI1B,CAACT,IAGJ9B,qBAAU,WACI,IAAToB,IACHmB,GAAW,GACXrB,EAASY,EAAaV,GACpBK,MAAK,SAACe,GACNR,EAAU,GAAD,mBAAKD,GAAL,YAAgBS,EAAQC,QAE7BD,EAAQC,KAAKC,QAAU,GAAKtB,EAAO,EACtCjD,IAAMwE,QAAQ,qCACoB,IAAxBH,EAAQC,KAAKC,QAAgBtB,EAAO,GAC9CjD,IAAMyE,MAAM,0BAGbC,OAAM,SAACC,GACP3E,IAAMyE,MAAM,gBACZG,QAAQC,IAAIF,MAEZG,SAAQ,kBAAMV,GAAW,SAG1B,CAACnB,IAMJpB,qBAAU,WACTC,OAAOiD,SAAS,CACfC,IAAKxD,SAASyD,gBAAgBC,aAC9BC,SAAU,cAIZ,IAAMC,EAAmB,SAACrE,GACzB+C,EAAiB/C,IAGZsE,EAAa,WAClBnB,GAAcD,GACdH,EAAiB,IACjBC,EAAQ,KAGT,OACC,qCACC,qBAAIvE,UAAWC,IAAOiE,aAAtB,UACES,GAAW,cAAC,EAAD,IACXP,EAAO0B,KAAI,gBAAGC,EAAH,EAAGA,GAAIzE,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAAeC,EAApC,EAAoCA,KAApC,OACX,cAAC,EAAD,CAECF,aAAcA,EACdC,cAAeA,EACfC,KAAMA,EACNC,aAAcmE,GAJTG,MAOY,IAAlB3B,EAAOW,QAAgB,cAAC,EAAD,CAAQrD,QAlClB,WAChB8C,EAAQf,EAAO,SAoCblC,GACA,eAACW,EAAD,CAAOC,QAAS0D,EAAhB,UACC,wBACClF,KAAK,SACLX,UAAWC,IAAO+F,SAClBtE,QAASmE,EAHV,eAOA,qBAAKjE,IAAKL,EAAeM,IAAKL,U,qBC7GpB,SAASyE,IACtB,MAAsCrG,mBAAS,IAA/C,mBAAOuE,EAAP,KAAoB+B,EAApB,KAMA,OACE,sBAAKlG,UAAWC,IAAOgG,IAAvB,UACE,cAACvG,EAAD,CAAWC,aANM,SAACwG,GACpBD,EAAeC,MAMb,cAACjC,EAAD,CAAcC,YAAaA,OCVjCiC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACL,EAAD,MAEFjE,SAASC,eAAe,U,kBCR1BzC,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.a401bb40.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3TSdQ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3eQLT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2nbMW\",\"Modal\":\"Modal_Modal__1T08j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3wn5G\",\"CloseBtn\":\"ImageGallery_CloseBtn__afuTb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Rd_H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1YHIa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__YsujT\"};","import { useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport styles from \"./SearchBar.module.css\";\n\nexport default function SearchBar({ onFormSubmit }) {\n\tconst [changeValue, setChangeValue] = useState(\"\");\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (changeValue.trim() === \"\") {\n\t\t\ttoast.warn(\"Please specify your request!\");\n\t\t\tclearForm();\n\t\t\treturn;\n\t\t}\n\t\tonFormSubmit(changeValue.toLowerCase().trim());\n\t\tclearForm();\n\t};\n\n\tconst handleChange = (e) => {\n\t\tsetChangeValue(e.currentTarget.value);\n\t};\n\n\tconst clearForm = () => {\n\t\tsetChangeValue(\"\");\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<header className={styles.Searchbar}>\n\t\t\t\t<form className={styles.SearchForm} onSubmit={handleSubmit}>\n\t\t\t\t\t<button type=\"submit\" className={styles.SearchFormButton}>\n\t\t\t\t\t\t<span className={styles.SearchFormButtonLabel}>Search</span>\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName={styles.SearchFormInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={changeValue}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</header>\n\t\t\t<ToastContainer />\n\t\t</>\n\t);\n}\n","import styles from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onClickProps }) {\n\tfunction handleClick(e) {\n\t\tonClickProps(largeImageURL, tags);\n\t}\n\n\treturn (\n\t\t<li className={styles.ImageGalleryItem} onClick={handleClick}>\n\t\t\t<img\n\t\t\t\tclassName={styles.ImageGalleryItemImage}\n\t\t\t\tsrc={webformatURL}\n\t\t\t\talt={tags}\n\t\t\t\tsrcSet={largeImageURL}\n\t\t\t/>\n\t\t</li>\n\t);\n}\n\nexport default ImageGalleryItem;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default function Modal({ onClose, children }) {\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"keydown\", handleKeyDown);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"keydown\", handleKeyDown);\n\t\t};\n\t});\n\n\tconst handleKeyDown = (e) => {\n\t\tif (e.code === \"Escape\") {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst handleOverlayClick = (e) => {\n\t\tif (e.currentTarget === e.target) {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\treturn createPortal(\n\t\t<div className={styles.Overlay} onClick={handleOverlayClick}>\n\t\t\t<div className={styles.Modal}>{children}</div>\n\t\t</div>,\n\t\tmodalRoot\n\t);\n}\n\nModal.propTypes = {\n\tonClose: PropTypes.func.isRequired,\n\tchildren: PropTypes.node,\n};\n","import { Component } from \"react\";\nimport styles from \"./Button.module.css\";\n\nclass Button extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"submit\"\n\t\t\t\tclassName={styles.Button}\n\t\t\t\tonClick={this.props.onClick}\n\t\t\t>\n\t\t\t\t<span className=\"button-label\">LoadMore</span>\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default Button;\n","import { Component } from \"react\";\nimport LoaderSpin from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from \"./Loader.module.css\";\n\nclass Loader extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.Loader}>\n\t\t\t\t<LoaderSpin\n\t\t\t\t\ttype=\"Circles\"\n\t\t\t\t\tcolor=\"#3f51b5\"\n\t\t\t\t\theight={150}\n\t\t\t\t\twidth={150}\n\t\t\t\t\ttimeout={3000} //3 secs\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Loader;\n","async function fetchApi(searchQuery, page) {\n\t//URL params\n\tconst API_KEY = \"23474268-70d851d8204f5902d9e83a665\";\n\tconst baseUrl = `https://pixabay.com/api/`;\n\tconst params = `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\tconst url = baseUrl + params;\n\n\tconst fetchA = await fetch(url).then((response) => {\n\t\t// console.log(\"response\", response);\n\t\treturn response.json();\n\t});\n\treturn fetchA;\n}\n\nexport { fetchApi };\n","import ImageGalleryItem from \"../GalleryItem/ImageGalleryItem\";\nimport { useState, useEffect } from \"react\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../ButtonLoadMore/Button\";\nimport Loader from \"../Loader/Loader\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport styles from \"./ImageGallery.module.css\";\nimport { fetchApi } from \"../../service/api\";\n\nexport default function ImageGallery({ submitValue }) {\n\tconst [images, setImages] = useState([]);\n\tconst [largeImageURL, setLargeImageURL] = useState(\"\");\n\tconst [tags, setTags] = useState(\"\");\n\tconst [page, setPage] = useState(1);\n\tconst [showModal, setShowModal] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (submitValue === \"\") {\n\t\t\treturn;\n\t\t}\n\t\tif (submitValue !== \"\") {\n\t\t\tsetLoading(true);\n\t\t\tsetPage(1);\n\t\t\tfetchApi(submitValue, 1)\n\t\t\t\t.then((results) => {\n\t\t\t\t\tsetImages([...results.hits]);\n\n\t\t\t\t\tif (results.hits.length >= 1 && page <= 1) {\n\t\t\t\t\t\ttoast.success(\"Search successfull!\");\n\t\t\t\t\t} else if (results.hits.length === 0) {\n\t\t\t\t\t\ttoast.error(\"Oops, nothing found!\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\ttoast.error(\"Fetch error!\");\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t})\n\t\t\t\t.finally(() => setLoading(false));\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [submitValue]);\n\n\t//для лоадмор\n\tuseEffect(() => {\n\t\tif (page !== 1) {\n\t\t\tsetLoading(true);\n\t\t\tfetchApi(submitValue, page)\n\t\t\t\t.then((results) => {\n\t\t\t\t\tsetImages([...images, ...results.hits]);\n\n\t\t\t\t\tif (results.hits.length >= 1 && page > 1) {\n\t\t\t\t\t\ttoast.success(\"More results successfully loaded!\");\n\t\t\t\t\t} else if (results.hits.length === 0 && page > 1) {\n\t\t\t\t\t\ttoast.error(\"Oops, nothing more!\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\ttoast.error(\"Fetch error!\");\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t})\n\t\t\t\t.finally(() => setLoading(false));\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [page]);\n\n\tconst loadMore = () => {\n\t\tsetPage(page + 1);\n\t};\n\n\tuseEffect(() => {\n\t\twindow.scrollTo({\n\t\t\ttop: document.documentElement.scrollHeight,\n\t\t\tbehavior: \"smooth\",\n\t\t});\n\t});\n\n\tconst bigImageSetState = (largeImageURL) => {\n\t\tsetLargeImageURL(largeImageURL);\n\t};\n\n\tconst closeModal = () => {\n\t\tsetShowModal(!showModal);\n\t\tsetLargeImageURL(\"\");\n\t\tsetTags(\"\");\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ul className={styles.ImageGallery}>\n\t\t\t\t{loading && <Loader />}\n\t\t\t\t{images.map(({ id, webformatURL, largeImageURL, tags }) => (\n\t\t\t\t\t<ImageGalleryItem\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\twebformatURL={webformatURL}\n\t\t\t\t\t\tlargeImageURL={largeImageURL}\n\t\t\t\t\t\ttags={tags}\n\t\t\t\t\t\tonClickProps={bigImageSetState}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t\t{images.length !== 0 && <Button onClick={loadMore} />}\n\t\t\t</ul>\n\n\t\t\t{largeImageURL && (\n\t\t\t\t<Modal onClose={closeModal}>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={styles.CloseBtn}\n\t\t\t\t\t\tonClick={closeModal}\n\t\t\t\t\t>\n\t\t\t\t\t\tX\n\t\t\t\t\t</button>\n\t\t\t\t\t<img src={largeImageURL} alt={tags} />\n\t\t\t\t</Modal>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","import { useState } from \"react\";\nimport SearchBar from \"./components/SearchBar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport styles from \"./App.module.css\";\n\nexport default function App() {\n  const [submitValue, setSubmitValue] = useState(\"\");\n\n  const onFormSubmit = (data) => {\n    setSubmitValue(data);\n  };\n\n  return (\n    <div className={styles.App}>\n      <SearchBar onFormSubmit={onFormSubmit} />\n      <ImageGallery submitValue={submitValue} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3bYy5\",\"SearchForm\":\"SearchBar_SearchForm__2Iam_\",\"SearchFormButton\":\"SearchBar_SearchFormButton__Sjn3Q\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1AuZR\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1bbGK\"};"],"sourceRoot":""}